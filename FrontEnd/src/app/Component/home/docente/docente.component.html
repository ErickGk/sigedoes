<div class="row">
  <!-- Lado izquierdo
  <div class="col-md-4 mt-2">
  </div>
   -->
  <!-- Lado derecho -->
  <div class="col-md-12 mt-2">

    <!--Modulo globales-->
    <div class="accordion mb-2" id="accordionGlobales">
      <!-- Registro de alumnos a Globales -->
      <div class="accordion-item">
        <!-- cabecera del accordion -->
        <h2 class="accordion-header d-flex">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseGlobales" aria-expanded="false" aria-controls="collapseGlobales"
            style="height: 3rem;">
            <p class="fs-6 fw-light text-center text-secondary mt-3">
              <i class="bi bi-card-checklist"></i>
              Registro de alumnos a globales
            </p>
            <button (click)="enviarGlobales($event)" class="btn btn-outline-success btn-sm ms-auto" type="submit"
              id="tbnglobal">Registrar Globales</button>
          </button>
          <!-- Guarda los alumnos capturados -->

        </h2>
        <div id="collapseGlobales" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
          <!-- REgistro de alumnos Globales -->
          <div class="accordion-body">
            <!-- buscar alumno  y datos para captura -->
            <div class="d-flex justify-content-between mb-3">
              <input class="form-control me-1" type="search" placeholder="Numero de Control" aria-label="Search"
                [(ngModel)]="numControlAlumnoGlobal" (blur)="buscarAlumnoOut($event)" id="loadGlobal">
              <button (click)="buscarAlumno($event)" class="btn btn-outline-success me-1" type="submit" id="global">Agregar</button>
              <!-- periodo -->
              <select class="form-select form-select-sm me-1" aria-label="Small select example" [(ngModel)]="periodoGlobal"
                (change)="datosMateria($event)" id="selectGlobalesP" [disabled]="disableGlobal">
                <option *ngFor="let periodo of periodoEscolar" [value]="periodo.idperiodoescolar">{{
                  periodo.periodoescolar}}
                </option>
              </select>
              <!-- Materia -->
              <select class="form-select form-select-sm" aria-label="Small select example" [(ngModel)]="materiaGlobal"
                id="selectGlobalesM" [disabled]="disableGlobal">
                <option *ngFor="let materia of materiasG" [value]="materia.idMateria">{{ materia.descripcion }}
                </option>
              </select>

            </div>
            <!-- Alumno agregado -->
            <div class="row">
              <table class="table table-sm table-responsive table-bordered border-color-1 m-0">
                <thead>
                  <tr>
                    <th scope="col">NC</th>
                    <th scope="col">Nombre</th>

                    <th scope="col">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let alumno of alumnosGlobales">
                    <td>{{alumno.numControl}}</td>
                    <td>{{alumno.nombre+" "+alumno.apellidoP+" "+alumno.apellidoM}}</td>

                    <td>
                      <button class="btn btn-sm btn-danger"
                        (click)="eliminarAlumno(alumno.numControl,'global')">Eliminar</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!-- Registro de calificaciones de los globales -->
      <div class="accordion-item mt-2">
        <!-- cabecera del accordion -->
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseCalificacionGlobla" aria-expanded="false"
            aria-controls="collapseCalificacionGlobla" style="height: 3rem;" (click)="cargarAlumnosGlobalesAsignados()">
            <p class="fs-6 fw-light text-center text-secondary mt-3">
              <i class="bi bi-card-checklist"></i>
              Registro de calificación de alumnos Globales
            </p>

          </button>
        </h2>
        <div id="collapseCalificacionGlobla" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <div class="row">
              <table class="table table-sm table-responsive table-bordered border-color-1 m-0">
                <thead>
                  <tr>
                    <th scope="col">NC</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Materia</th>
                    <th scope="col">Calificación</th>
                    <th scope="col">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let alumno of ListaAlumnosGlobales">
                    <td>{{alumno.alumnoNumControl}}</td>
                    <td>{{alumno.nombre+" "+alumno.apellidoP+" "+alumno.apellidoM}}</td>
                    <td>{{alumno.materia}}</td>
                    <td>
                      <input type="number" class="form-control" [(ngModel)]="alumno.calificacion" min="0" max="100"
                        step="0.01">
                    </td>
                    <td>
                      <button class="btn btn-sm btn-danger"
                        (click)="enviarCalificacionesGlobales(alumno.idglobales, alumno.idasiglobd, alumno.calificacion)">Calificar</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- modulo Recursa-->
    <div class="accordion mb-2">
      <div class="accordion-item">
        <!-- cabecera del accordion -->
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseRecursa" aria-expanded="false" aria-controls="collapseRecursa"
            style="height: 3rem;">
            <p class="fs-6 fw-light text-center text-secondary mt-3">
              <i class="bi bi-card-checklist"></i>
              Registro de alumnos a recursamiento
            </p>
            <!-- Guarda los alumnos capturados Recursa-->
            <button (click)="enviarRecursa($event)" class="btn btn-outline-success btn-sm ms-auto" type="submit"
              id="tbnrecursa">Registrar Recursas </button>
          </button>

        </h2>
        <!-- Cuerpo del accordion   -->
        <div id="collapseRecursa" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <div class="d-flex justify-content-between mb-3">
              <input class="form-control me-1" type="search" placeholder="Numero de Control" aria-label="Search"
                [(ngModel)]="numControlAlumnoRecursa" [disabled]="disableRecursa">
              <button (click)="buscarAlumno($event)" class="btn btn-outline-success btn-sm me-1" type="submit"
                id="recursa">Agregar</button>
              <!-- periodo -->
              <select class="form-select form-select-sm me-1" aria-label="Small select example" [(ngModel)]="periodoRecursa"
                id="selectRecursasP" (change)="datosMateria($event)" [disabled]="disableRecursa">
                <option *ngFor="let periodo of periodoEscolar" [value]="periodo.idperiodoescolar">{{
                  periodo.periodoescolar }}
                </option>
              </select>
              <!-- Materia -->
              <select class="form-select form-select-sm me-1" aria-label="Small select example" [(ngModel)]="materiaRecursa"
                id="selectRecursasM" [disabled]="disableRecursa">
                <option *ngFor="let materia of materias" [value]="materia.idMateria">{{ materia.descripcion }}
                </option>
              </select>

            </div>
            <div class="row">
              <table class="table table-sm table-responsive table-bordered border-color-1 m-0">
                <thead>
                  <tr>
                    <th scope="col">NC</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let alumno of alumnosRecursas">
                    <td>{{alumno.numControl}}</td>
                    <td>{{alumno.nombre+" "+alumno.apellidoP+" "+alumno.apellidoM}}</td>
                    <td>
                      <button class="btn btn-sm btn-danger"
                        (click)="eliminarAlumno(alumno.numControl,'recursa')">Eliminar</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <!-- Registro de calificaciones de los Rescursas -->
      <div class="accordion-item mt-2">
        <!-- cabecera del accordion -->
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseCalificacionRecursa" aria-expanded="false"
            aria-controls="collapseCalificacionRecursa" style="height: 3rem;"
            (click)="cargarAlumnosRecursasAsignados()">
            <p class="fs-6 fw-light text-center text-secondary mt-3">
              <i class="bi bi-card-checklist"></i>
              Registro de calificación de alumnos en recursamiento
            </p>

          </button>
        </h2>
        <div id="collapseCalificacionRecursa" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <div class="row">
              <table class="table table-sm table-responsive table-bordered border-color-1 m-0">
                <thead>
                  <tr>
                    <th scope="col">NC</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Materia</th>
                    <th scope="col">Calificación</th>
                    <th scope="col">Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let alumno of ListaAlumnosRecursas">
                    <td>{{alumno.alumnoNumControl}}</td>
                    <td>{{alumno.nombre+" "+alumno.apellidoP+" "+alumno.apellidoM}}</td>
                    <td>{{alumno.materia}}</td>
                    <td>
                      <input type="number" class="form-control" [(ngModel)]="alumno.calificacion" min="0" max="10"
                        step="1">
                    </td>
                    <td>
                      <button class="btn btn-sm btn-danger"
                        (click)="enviarCalificacionesRecursas(alumno.idrecursa, alumno.idasigrecursa, alumno.calificacion)">Calificar</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>